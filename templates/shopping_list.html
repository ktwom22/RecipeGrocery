{% extends "base.html" %}

{% block title %}Shopping List{% endblock %}

{% block content %}
<style>
    .shopping-list-page {
        margin: 20px auto;
        max-width: 800px;
        padding: 20px;
        background: white;
        border-radius: 8px;
        box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.1);
        text-align: center;
    }
    .shopping-list-page h1 {
        font-size: 2rem;
        margin-bottom: 10px;
        color: #4CAF50;
    }

    .shopping-list ul {
        list-style: none;
        padding: 0;
        margin: 20px 0;
    }
    .shopping-list li {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
        padding: 10px;
        background: #F9F9F9;
        border: 1px solid #E0E0E0;
        border-radius: 6px;
    }
    .shopping-list li button {
        background: #E53935;
        color: white;
        border: none;
        padding: 5px 10px;
        border-radius: 5px;
    }
    .shopping-list li button:hover {
        background: #D32F2F;
    }

    .add-item-form {
        margin-top: 20px;
    }
    .add-item-form input {
        margin-bottom: 10px;
        padding: 8px;
        border: 1px solid #E0E0E0;
        border-radius: 5px;
    }
    .add-item-form button {
        background: #4CAF50;
        color: white;
        border: none;
        padding: 10px 15px;
        border-radius: 5px;
    }
</style>

<div class="shopping-list-page">
    <h1>My Shopping List</h1>
    {% if shopping_list %}
    <ul class="shopping-list">
        {% for ingredient, quantity in shopping_list.items() %}
        <li>
            <span>{{ quantity|fraction }} {{ ingredient }}</span>
            <form method="POST" action="{{ url_for('remove_item', item_key=ingredient) }}">
                <button type="submit">Remove</button>
            </form>
        </li>
        {% endfor %}
    </ul>
    <form method="POST">
        <button name="clear">Clear All</button>
    </form>
    {% else %}
    <p>Your shopping list is empty.</p>
    {% endif %}

    <h2>Add an Item</h2>
    <form method="POST" class="add-item-form">
        <input type="text" name="quantity" placeholder="Quantity">
        <input type="text" name="unit" placeholder="Unit (e.g., cups)">
        <input type="text" name="name" placeholder="Item Name">
        <button name="add_manual_item">Add Item</button>
    </form>
</div>
{% endblock %}